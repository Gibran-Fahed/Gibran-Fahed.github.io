import{B as N,V as O,M as P,F as G,u as X,a as F,T as S,r as f,b as Z,E as I,c as R,O as v,_ as q,d as J,e as K,j as h,C as Q,f as Y,g as V,P as tt,S as et,t as ot}from"./index-c57e6764.js";import{m as rt}from"./react-merge-refs.esm-239dbb3c.js";class st extends N{constructor(c,d,x,g){super();const y=[],A=[],T=[],l=new O,M=new P;M.makeRotationFromEuler(x),M.setPosition(d);const k=new P;k.copy(M).invert(),B(),this.setAttribute("position",new G(y,3)),this.setAttribute("normal",new G(A,3)),this.setAttribute("uv",new G(T,2));function B(){let t,e=[];const r=new O,n=new O;if(c.geometry.isGeometry===!0){console.error("THREE.DecalGeometry no longer supports THREE.Geometry. Use BufferGeometry instead.");return}const s=c.geometry,E=s.attributes.position,b=s.attributes.normal;if(s.index!==null){const u=s.index;for(t=0;t<u.count;t++)r.fromBufferAttribute(E,u.getX(t)),n.fromBufferAttribute(b,u.getX(t)),j(e,r,n)}else for(t=0;t<E.count;t++)r.fromBufferAttribute(E,t),n.fromBufferAttribute(b,t),j(e,r,n);for(e=p(e,l.set(1,0,0)),e=p(e,l.set(-1,0,0)),e=p(e,l.set(0,1,0)),e=p(e,l.set(0,-1,0)),e=p(e,l.set(0,0,1)),e=p(e,l.set(0,0,-1)),t=0;t<e.length;t++){const u=e[t];T.push(.5+u.position.x/g.x,.5+u.position.y/g.y),u.position.applyMatrix4(M),y.push(u.position.x,u.position.y,u.position.z),A.push(u.normal.x,u.normal.y,u.normal.z)}}function j(t,e,r){e.applyMatrix4(c.matrixWorld),e.applyMatrix4(k),r.transformDirection(c.matrixWorld),t.push(new C(e.clone(),r.clone()))}function p(t,e){const r=[],n=.5*Math.abs(g.dot(e));for(let s=0;s<t.length;s+=3){let E,b,u,L=0,i,m,w,D;const U=t[s+0].position.dot(e)-n,_=t[s+1].position.dot(e)-n,$=t[s+2].position.dot(e)-n;switch(E=U>0,b=_>0,u=$>0,L=(E?1:0)+(b?1:0)+(u?1:0),L){case 0:{r.push(t[s]),r.push(t[s+1]),r.push(t[s+2]);break}case 1:{if(E&&(i=t[s+1],m=t[s+2],w=a(t[s],i,e,n),D=a(t[s],m,e,n)),b){i=t[s],m=t[s+2],w=a(t[s+1],i,e,n),D=a(t[s+1],m,e,n),r.push(w),r.push(m.clone()),r.push(i.clone()),r.push(m.clone()),r.push(w.clone()),r.push(D);break}u&&(i=t[s],m=t[s+1],w=a(t[s+2],i,e,n),D=a(t[s+2],m,e,n)),r.push(i.clone()),r.push(m.clone()),r.push(w),r.push(D),r.push(w.clone()),r.push(m.clone());break}case 2:{E||(i=t[s].clone(),m=a(i,t[s+1],e,n),w=a(i,t[s+2],e,n),r.push(i),r.push(m),r.push(w)),b||(i=t[s+1].clone(),m=a(i,t[s+2],e,n),w=a(i,t[s],e,n),r.push(i),r.push(m),r.push(w)),u||(i=t[s+2].clone(),m=a(i,t[s],e,n),w=a(i,t[s+1],e,n),r.push(i),r.push(m),r.push(w));break}}}return r}function a(t,e,r,n){const s=t.position.dot(r)-n,E=e.position.dot(r)-n,b=s/(s-E);return new C(new O(t.position.x+b*(e.position.x-t.position.x),t.position.y+b*(e.position.y-t.position.y),t.position.z+b*(e.position.z-t.position.z)),new O(t.normal.x+b*(e.normal.x-t.normal.x),t.normal.y+b*(e.normal.y-t.normal.y),t.normal.z+b*(e.normal.z-t.normal.z)))}}}class C{constructor(c,d){this.position=c,this.normal=d}clone(){return new this.constructor(this.position.clone(),this.normal.clone())}}const H=o=>o===Object(o)&&!Array.isArray(o)&&typeof o!="function";function W(o,c){const d=X(g=>g.gl),x=F(S,H(o)?Object.values(o):o);if(f.useLayoutEffect(()=>{c==null||c(x)},[c]),f.useEffect(()=>{(Array.isArray(x)?x:[x]).forEach(d.initTexture)},[d,x]),H(o)){const g=Object.keys(o),y={};return g.forEach(A=>Object.assign(y,{[A]:x[g.indexOf(A)]})),y}else return x}W.preload=o=>F.preload(S,o);W.clear=o=>F.clear(S,o);function nt(o){return Array.isArray(o)}function z(o=[0,0,0]){return nt(o)?o:o instanceof O||o instanceof I?[o.x,o.y,o.z]:[o,o,o]}const at=f.forwardRef(function({debug:c,depthTest:d=!1,polygonOffsetFactor:x=-10,map:g,mesh:y,children:A,position:T,rotation:l,scale:M,...k},B){const j=f.useRef(null);f.useImperativeHandle(B,()=>j.current);const p=f.useRef(null);return f.useLayoutEffect(()=>{const a=(y==null?void 0:y.current)||j.current.parent,t=j.current;if(!(a instanceof Z))throw new Error('Decal must have a Mesh as parent or specify its "mesh" prop');const e={position:new O,rotation:new I,scale:new O(1,1,1)};if(a){R(e,{position:T,scale:M});const r=a.matrixWorld.clone();if(a.matrixWorld.identity(),!l||typeof l=="number"){const n=new v;n.position.copy(e.position),n.lookAt(a.position),typeof l=="number"&&n.rotateZ(l),R(e,{rotation:n.rotation})}else R(e,{rotation:l});return t.geometry=new st(a,e.position,e.rotation,e.scale),p.current&&(R(p.current,e),p.current.traverse(n=>n.raycast=()=>null)),a.matrixWorld=r,()=>{t.geometry.dispose()}}},[y,...z(T),...z(M),...z(l)]),f.createElement("mesh",q({ref:j,"material-transparent":!0,"material-polygonOffset":!0,"material-polygonOffsetFactor":x,"material-depthTest":d,"material-map":g},k),A,c&&f.createElement("mesh",{ref:p},f.createElement("boxGeometry",null),f.createElement("meshNormalMaterial",{wireframe:!0}),f.createElement("axesHelper",null)))}),lt=f.forwardRef(({children:o,enabled:c=!0,speed:d=1,rotationIntensity:x=1,floatIntensity:g=1,floatingRange:y=[-.1,.1],...A},T)=>{const l=f.useRef(null),M=f.useRef(Math.random()*1e4);return J(k=>{var B,j;if(!c||d===0)return;const p=M.current+k.clock.getElapsedTime();l.current.rotation.x=Math.cos(p/4*d)/8*x,l.current.rotation.y=Math.sin(p/4*d)/8*x,l.current.rotation.z=Math.sin(p/4*d)/20*x;let a=Math.sin(p/4*d)/10;a=K.mapLinear(a,-.1,.1,(B=y==null?void 0:y[0])!==null&&B!==void 0?B:-.1,(j=y==null?void 0:y[1])!==null&&j!==void 0?j:.1),l.current.position.y=a*g,l.current.updateMatrix()}),f.createElement("group",A,f.createElement("group",{ref:rt([l,T]),matrixAutoUpdate:!1},o))}),it=({imageUrl:o})=>{const[c]=W([o]);return h.jsxs(lt,{speed:1.75,floatIntensity:2,rotationIntensity:1,children:[h.jsx("ambientLight",{intensity:.25}),h.jsx("directionalLight",{position:[0,0,.05]}),h.jsxs("mesh",{castShadow:!0,recieveShadow:!0,scale:2.75,children:[h.jsx("icosahedronGeometry",{args:[1,1]}),h.jsx("meshStandardMaterial",{color:"#fff8eb",polygonOffset:!0,polygonOffsetFactor:-5}),h.jsx(at,{flatShading:!0,position:[0,0,1],rotation:[2*Math.PI,0,6.25],map:c})]})]})},ut=({icon:o})=>h.jsxs(Q,{frameloop:"always",gl:{preserveDrawingBuffer:!0},children:[h.jsxs(f.Suspense,{fallback:h.jsx(Y,{}),children:[h.jsx(V,{enableZoom:!1}),h.jsx(it,{imageUrl:o})]}),h.jsx(tt,{all:!0})]}),ct=()=>h.jsx("div",{className:"flex flex-row justify-center items-center flex-wrap gap-8",children:ot.map((o,c)=>h.jsx("div",{className:"h-36 w-36",children:h.jsx(ut,{icon:o.icon})},`tech-ball-${c}`))}),mt=et(ct,"tech");export{mt as default};
